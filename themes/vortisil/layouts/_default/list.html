{{ define "main"}}
{{ $l10n := partial "l10n.html" . }}

<div class="posts">
  {{ $pages := where .Site.RegularPages "Type" "songs" }}
  {{ $grouped := $pages.ByTitle }}
  {{ $paginator := .Paginate $grouped }}
  {{ $perPage := $paginator.PagerSize }}
  {{ $offset  := mul (sub $paginator.PageNumber 1) $perPage }}

  <h1>{{ index $l10n "songs" }} ({{ len $pages }})</h1>

  {{ range $i, $p := $paginator.Pages }}
  <div class="posts-list">
    <div class="posts-item">
      <div class="posts-title" style="border-bottom: none;"><a href="{{ .RelPermalink }}">{{ add $offset (add $i 1) }}. {{ .Title }}</a></div>
    </div>
  </div>
  {{ end }}

  {{ partial "pagination.html" . }}
</div>
{{ end }}